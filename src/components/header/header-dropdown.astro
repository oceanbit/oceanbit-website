---
import HeaderButton from "./header-button.astro";
import DownArrow from "../../assets/icons/down_arrow.astro";

interface Props {
  title: string;
  dataOpen: string;
  dropdownClass?: string;
}

const { title, dataOpen, dropdownClass = "" } = Astro.props;
---

<HeaderButton data-open={dataOpen}
  >{title} <DownArrow stroke="currentColor" /></HeaderButton
>

<template id={dataOpen}>
  <div class={`dropdown ${dropdownClass}`}>
    <button id="close-dropdown-menu">Close the dropdown menu</button>
    <slot />
  </div>
</template>

<style>
  .dropdown {
    margin-top: 3rem;
    position: absolute;
    transform: translateX(-50%);
    z-index: 1;

    border-radius: 16px;
    border: 2px solid var(--colors-border-border-secondary, #eaecf0);
    background: var(--colors-background-bg-primary, #fff);

    /* Shadows/shadow-xl */
    box-shadow:
      0px 20px 24px -4px rgba(16, 24, 40, 0.08),
      0px 8px 8px -4px rgba(16, 24, 40, 0.03);
  }

  #close-dropdown-menu {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  #close-dropdown-menu:focus-visible {
    position: unset;
    width: unset;
    height: unset;
    padding: unset;
    margin: unset;
    overflow: unset;
    clip: unset;
    white-space: unset;
    border-width: unset;
  }
</style>
